<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" 
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="project">
	<select id="getHouseMaxCode" parameterType="Map" resultType="java.lang.String">
		select housecode from dz_house
		<where>
			<if test="code!=null and code!=''">and housecode like '${code}%'</if>
		</where>
		order by housecode desc LIMIT 1
	</select>
	<select id="getHouseCount" parameterType="Map" resultType="java.lang.String">
		select count(id) from dz_house
		<where>
			<if test="code!=null and code!=''">and housecode like '${code}%'</if>
			<if test="search!=null and search!=''">and fjh like '%${search}%' </if>
		</where>
	</select>

	<select id="getHouseAllList" parameterType="Map" resultType="com.deya.project.dz_house.HouseBean">
		select * from dz_house
		<where>
			<if test="code!=null and code!=''">and housecode like '${code}%'</if>
			<if test="search!=null and search!=''">and fjh like '%${search}%' </if>
		</where>
		order by  ${orderby}
	</select>
	<select id="getHouselist" parameterType="Map" resultType="com.deya.project.dz_house.HouseBean">
		select * from dz_house
		<where>
			<if test="code!=null and code!=''">and housecode like '${code}%'</if>
			<if test="search!=null and search!=''">and fjh like '%${search}%' </if>
		</where>
		order by  ${orderby} limit #{start_num,,jdbcType=INTEGER},#{page_size,,jdbcType=INTEGER}
	</select>
	<select id="getHouseById" parameterType="Map" resultType="com.deya.project.dz_house.HouseBean">
		select * from dz_house where id=#{id}
	</select>
	<insert id="insertHouse" parameterType="com.deya.project.dz_house.HouseBean">
		insert into
		dz_house(housecode,fjh,szdy,szlc,hx,jzmj,symj,cx,fjlx,fjzt,hxt)
		values(#{housecode},#{fjh},#{szdy},#{szlc},#{hx},#{jzmj},#{symj},#{cx},#{fjlx},#{fjzt},#{hxt})
	</insert>

	<update id="updateHouse" parameterType="com.deya.project.dz_house.HouseBean">
		update dz_house set fjh=#{fjh},szdy=#{szdy},szlc=#{szlc},jzmj=#{jzmj},hx=#{hx},
		symj=#{symj},cx=#{cx},fjlx=#{fjlx},fjzt=#{fjzt},hxt=#{hxt} where id = #{id}
	</update>
	<delete id="deleteHouse" parameterType="Map">
		delete from dz_house where id=#{id}
	</delete>
</mapper>